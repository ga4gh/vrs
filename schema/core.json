{
   "$schema": "http://json-schema.org/draft/2020-12/schema",
   "title": "GA4GH-GKS-Core-Definitions",
   "type": "object",
   "$defs": {
      "Entity": {
         "description": "Entity is the root class of \u2018core\u2019 classes model - those that have identifiers and other general  metadata like labels, xrefs, urls, descriptions, etc. All core classes descend from and inherit  its attributes.",
         "oneOf": [
            {
               "$ref": "#/$defs/ExtensibleEntity"
            },
            {
               "$ref": "#/$defs/ValueEntity"
            }
         ],
         "discriminator": {
            "propertyName": "type"
         }
      },
      "ValueEntity": {
         "description": "ValueEntity is the root class for classes that instantiate Value Objects. ValueEntity classes are not extensible and MUST NOT have optional properties.",
         "oneOf": [
            {
               "$ref": "#/$defs/Proposition"
            }
         ]
      },
      "DomainEntity": {
         "description": "An abstract ValueEntity class extended to capture specific domain entities by reference to an external identifier."
      },
      "ExtensibleEntity": {
         "description": "ExtensibleEntity is the root class for classes that instantiate Extensible Objects. Extensible Objects are extensible using the extensions property and MAY have optional properties."
      },
      "RecordMetadata": {
         "description": "A re-usable structure that encapsulates provenance metadata that applies to a specific concrete record of information as encoded in a particular system, as opposed to  provenance of the abstract information content/knowledge the record represents.",
         "properties": {
            "id": {
               "$ref": "#/$defs/CURIE",
               "description": "The 'logical' identifier of the entity in the system of record, e.g. a UUID. This 'id' is  unique within a given system. The identified entity may have a different 'id' in a different  system."
            },
            "type": {
               "type": "string",
               "const": "RecordMetadata",
               "default": "RecordMetadata",
               "description": "MUST be \"RecordMetadata\"."
            },
            "label": {
               "type": "string"
            },
            "extensions": {
               "type": "array",
               "items": {
                  "$ref": "#/$defs/Extension"
               }
            },
            "record_metadata": {
               "$ref": "#/$defs/RecordMetadata"
            },
            "is_version_of": {
               "$ref": "#/$defs/CURIE"
            },
            "version": {
               "type": "string"
            }
         },
         "required": [
            "type"
         ],
         "additionalProperties": false
      },
      "LabeledEntity": {
         "description": "Write this later.",
         "properties": {
            "id": {
               "$ref": "#/$defs/CURIE",
               "description": "The 'logical' identifier of the entity in the system of record, e.g. a UUID. This 'id' is  unique within a given system. The identified entity may have a different 'id' in a different  system."
            },
            "type": {
               "type": "string",
               "const": "LabeledEntity",
               "default": "LabeledEntity",
               "description": "MUST be \"LabeledEntity\"."
            },
            "label": {
               "type": "string"
            },
            "extensions": {
               "type": "array",
               "items": {
                  "$ref": "#/$defs/Extension"
               }
            },
            "record_metadata": {
               "$ref": "#/$defs/RecordMetadata"
            }
         },
         "required": [
            "type"
         ],
         "additionalProperties": false
      },
      "Extension": {
         "description": "The Extension class provides VODs with a means to extend descriptions with other attributes unique to a content provider. These extensions are not expected to be natively understood under VRSATILE, but may be used for pre-negotiated exchange of message attributes when needed.",
         "properties": {
            "type": {
               "type": "string",
               "const": "Extension",
               "description": "MUST be \"Extension\"."
            },
            "name": {
               "type": "string",
               "description": "A name for the Extension"
            },
            "value": {
               "type": [
                  "number",
                  "string",
                  "boolean",
                  "object",
                  "array",
                  "null"
               ],
               "description": "Any primitive or structured object"
            }
         },
         "required": [
            "name"
         ],
         "additionalProperties": false
      },
      "CURIE": {
         "description": "A [W3C Compact URI](https://www.w3.org/TR/curie/) formatted string. A CURIE string has the structure ``prefix``:``reference``, as defined by the W3C syntax.",
         "type": "string",
         "pattern": "^\\w[^:]*:.+$",
         "example": "ensembl:ENSG00000139618"
      },
      "Disease": {
         "description": "A reference to a Disease as defined by an authority. For human diseases, the use of [MONDO](https://registry.identifiers.org/registry/mondo) as the disease authority is RECOMMENDED.",
         "properties": {
            "type": {
               "type": "string",
               "const": "Disease",
               "default": "Disease",
               "description": "MUST be \"Disease\"."
            },
            "disease_id": {
               "$ref": "#/$defs/CURIE",
               "description": "A CURIE reference to a disease concept."
            }
         },
         "required": [
            "disease_id",
            "type"
         ],
         "additionalProperties": false
      },
      "Phenotype": {
         "description": "A reference to a Phenotype as defined by an authority. For human phenotypes, the use of [HPO](https://registry.identifiers.org/registry/hpo) as the disease authority is RECOMMENDED.",
         "properties": {
            "type": {
               "type": "string",
               "const": "Phenotype",
               "default": "Phenotype",
               "description": "MUST be \"Phenotype\"."
            },
            "phenotype_id": {
               "$ref": "#/$defs/CURIE",
               "description": "A CURIE reference to a phenotype concept."
            }
         },
         "required": [
            "phenotype_id",
            "type"
         ],
         "additionalProperties": false
      },
      "Gene": {
         "description": "A reference to a Gene as defined by an authority. For human genes, the use of [hgnc](https://registry.identifiers.org/registry/hgnc) as the gene authority is RECOMMENDED.",
         "type": "object",
         "properties": {
            "type": {
               "type": "string",
               "const": "Gene",
               "default": "Gene",
               "description": "MUST be \"Gene\""
            },
            "gene_id": {
               "$ref": "#/$defs/CURIE",
               "description": "A CURIE reference to a Gene concept"
            }
         },
         "required": [
            "gene_id",
            "type"
         ],
         "additionalProperties": false
      },
      "Condition": {
         "description": "A set of phenotype and/or disease concepts that constitute a condition.",
         "properties": {
            "id": {
               "$ref": "#/$defs/CURIE",
               "description": "The 'logical' identifier of the entity in the system of record, e.g. a UUID. This 'id' is  unique within a given system. The identified entity may have a different 'id' in a different  system."
            },
            "type": {
               "type": "string",
               "description": "The schema class that is instantiated by the data object. Must be the name of a class from  the VA schema."
            },
            "members": {
               "type": "array",
               "items": {
                  "oneOf": [
                     {
                        "$ref": "#/$defs/Disease"
                     }
                  ]
               },
               "minItems": 1
            }
         },
         "required": [
            "members",
            "type"
         ],
         "additionalProperties": false
      }
   }
}